{"version":3,"sources":["all.js","tool/ChungTool.js","tool/init.js","sections/index.js"],"names":["ChungTool","simpleShow","simpleHide","init_base","bIsAndroid","navigator","userAgent","toLowerCase","match","viewport","document","querySelector","targetDensitydpi","screen","width","window","devicePixelRatio","setAttribute","FastClick","attach","body","initPages","setInterval","_h","$","height","activeId","id","each","index","el","offset","top","scrollTop","find","eq","addClass","siblings","removeClass","checkScrollBtn","checkBuyBtn","initModal","md","click","this","attr","init_simple_ani","inView","on","init_motus_animation","Motus","addAnimation","Animation","$el","keyframes","backgroundPositionY","init_index","html","isIOS","isNull","val","getAtagElement","element","getElementById","createElement","style","target","getElementsByTagName","appendChild","preventScroll","e","preventDefault","stopPropagation","openGoogleApp","s","href","encodeURIComponent","checkIdle","delay","func","func2","idleTimer","idleState","idleWait","bind","clearTimeout","setTimeout","trigger","scrollReachTop","scrollReachEnd","innerHeight","scrollHeight","isIe","documentMode","test","addWheelEvent","upFunc","downFunc","scrollable","timer","mousewheel","event","deltaY","addSwipeUpDownEvent","start_y","end_y","t","get","addEventListener","targetTouches","length","pageY","css","windoePosTop","pageYOffset","documentElement","lockScroll","scrollPosition","self","pageXOffset","scrollLeft","jQuery","data","scrollTo","unLockScroll","off","isPhone","RegExp","pageScrollAni","opera","compatMode","animate","shareToLine","int","parseInt","replayCssAni","className","getDivBgImage","replace","addYouTube","vid","empty","append","maxlengthInpout","num","limit","text","new_text","substr","txtByteLength","str","removeClassWithFilter","elemt","prefix","i","classes","split","filter","c","lastIndexOf","trim","join","returnClassNameWithFilter","arr","value","capitalizeFirstLetter","string","charAt","toUpperCase","slice","addSwipeEvent","funcL","funcR","start_x","end_x","pageX","initLimitText","limitNum","showBtn","strtemp","getUrlParameter","sParam","sParameterName","sURLVariables","decodeURIComponent","location","search","substring","undefined","isOnline","protocol","during","TweenMax","killTweensOf","TimelineMax","set","autoAlpha","to","tl","call","ready"],"mappings":"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","file":"all.js","sourcesContent":["init_base();\r\n\r\n\r\ninView.offset(150);\r\n\r\n\r\n$(document).ready(() => {\r\n\r\n  console.log(ChungTool.getUrlParameter('info') === '2');\r\n\r\n  if (ChungTool.getUrlParameter('info') === '2') {\r\n    $('#index-t1').addClass('hide');\r\n    $('#index-t2').removeClass('hide');\r\n  }\r\n\r\n  init_index();\r\n  init_simple_ani();\r\n  init_motus_animation();\r\n\r\n\r\n  initModal();\r\n  initPages();\r\n\r\n  $(\".storeBtn\").click(()=>{\r\n    ChungTool.pageScrollAni($('.store').offset().top)\r\n  })\r\n\r\n});\r\n\r\nfunction initPages() {\r\n  setInterval(() => {\r\n    const _h = $(window).height();\r\n    let activeId = 0;\r\n    $('section').each((index, el) => {\r\n      const offest = ($(el).offset().top - $(document).scrollTop() - _h + 200);\r\n      if (offest < 0) {\r\n        activeId = index;\r\n      }\r\n    })\r\n    checkSideBar(activeId);\r\n    checkScrollBtn(activeId);\r\n    checkBuyBtn(activeId);\r\n  }, 200);\r\n\r\n  function checkSideBar(id) {\r\n    $('#sideContainer').find('li').eq(id).addClass('active').siblings('li').removeClass('active');\r\n  }\r\n\r\n  function checkScrollBtn(id) {\r\n    if (id > 0) {\r\n      $(\"#scrollBtn\").removeClass('show');\r\n    } else {\r\n      $(\"#scrollBtn\").addClass('show');\r\n    }\r\n  }\r\n\r\n  function checkBuyBtn(id) {\r\n    if (id >= 6) {\r\n      $(\"#chatBtn\").removeClass('show');\r\n    } else {\r\n      $(\"#chatBtn\").addClass('show');\r\n    }\r\n  }\r\n}\r\n\r\nfunction initModal() {\r\n  const md = $(\"#modal\")\r\n  $('.popBtn').click(function () {\r\n    const id = $(this).attr('data-pop');\r\n\r\n    md.find('img').attr('src', \"\");\r\n    md.find('img').attr('src', `./images/prof-${id}.jpg`)\r\n\r\n    md.removeClass('hide');\r\n  });\r\n\r\n  md.find('.bg').click(function(){\r\n    md.addClass('hide');\r\n  });\r\n\r\n  md.find('.clozBtn').click(function(){\r\n    md.addClass('hide');\r\n  });\r\n\r\n}\r\n\r\n\r\nfunction init_simple_ani() {\r\n  inView('.tempHide')\r\n    .on('enter', (el) => {\r\n      $(el).addClass('show');\r\n    })\r\n  // .on('exit', (el) => {\r\n  //   $(el).removeClass('show');\r\n  // })\r\n}\r\n\r\nfunction init_motus_animation() {\r\n  Motus.addAnimation(new Motus.Animation({\r\n    $el: $('.p2')[0],\r\n    keyframes: [{\r\n        backgroundPositionY: 100\r\n      },\r\n      {\r\n        backgroundPositionY: 0\r\n      }\r\n    ],\r\n  }));\r\n\r\n\r\n\r\n}","var ChungTool = ChungTool || {};\r\nvar simpleShow = simpleShow || {};\r\nvar simpleHide = simpleHide || {};\r\n\r\n(function() {\r\n\r\n\r\n\r\n\r\n    function isIOS() {\r\n        if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    function getUrlParameter(sParam) {\r\n        var sPageURL = decodeURIComponent(window.location.search.substring(1)),\r\n            sURLVariables = sPageURL.split('&'),\r\n            sParameterName,\r\n            i;\r\n\r\n        for (i = 0; i < sURLVariables.length; i++) {\r\n            sParameterName = sURLVariables[i].split('=');\r\n\r\n            if (sParameterName[0] === sParam) {\r\n                return sParameterName[1] === undefined ? true : sParameterName[1];\r\n            }\r\n        }\r\n    }\r\n\r\n    function isOnline() {\r\n        if (window.location.protocol == 'file:') {\r\n            console.log('在本機端喔');\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    function c_simpleShow(el, during) {\r\n        if (isNull(during)) {\r\n            during = 0.3;\r\n        }\r\n        el.each(function() {\r\n            var t = $(this);\r\n            t.removeClass('hide');\r\n            TweenMax.killTweensOf(t);\r\n            var tl = new TimelineMax();\r\n            tl.set(t, {\r\n                    autoAlpha: 0\r\n                })\r\n                .to(t, during, {\r\n                    autoAlpha: 1\r\n                });\r\n        });\r\n    }\r\n\r\n    function c_simpleHide(el, during) {\r\n        if (isNull(during)) {\r\n            during = 0.3;\r\n        }\r\n        el.each(function() {\r\n                var t = $(this);\r\n                var tl = new TimelineMax();\r\n                TweenMax.killTweensOf(t);\r\n                tl.to(t, during, {\r\n                        autoAlpha: 0\r\n                    })\r\n                    .call(function() {\r\n                        t.addClass('hide');\r\n                    });\r\n            })\r\n            // console.log(123)\r\n    }\r\n\r\n    function isNull(val) {\r\n        return (typeof(val) === \"undefined\")\r\n    }\r\n\r\n    function initLimitText() {\r\n        $('.limitTxt').each(function() {\r\n            var t = $(this);\r\n            var limitNum = parseInt(t.attr('data-limitTxtNum'), 10);\r\n            var showBtn = (t.attr('data-showBtn') == 'true') ? true : false;\r\n\r\n            if (!isNull(limitNum)) {\r\n\r\n                var str = t.text(); // Getting the text\r\n                str = str.replace(/ {2,}/g, ' ');\r\n                str = str.replace(/\\n\\s*\\n/g, '\\n');\r\n\r\n                if (str.length > limitNum) {\r\n\r\n                    var strtemp = '<span class=\"hide\">' + str.substr(limitNum, str.length) + '</span><a href=\"#\" class=\"seeMoreContentBtn\">more</a>';\r\n                    str = str.substr(0, limitNum) + '<i class=\"dot\"> ...</i>';\r\n\r\n                    if (showBtn) {\r\n                        str += strtemp;\r\n                    }\r\n\r\n                    t.html(str);\r\n                }\r\n            }\r\n        });\r\n\r\n        $('.seeMoreContentBtn').on('click', function(e) {\r\n            e.preventDefault();\r\n            $(this).addClass('hide').siblings('.hide').removeClass('hide').siblings('.dot').addClass('hide');\r\n        });\r\n\r\n    }\r\n\r\n    function addSwipeEvent(t, funcL, funcR) {\r\n        // var touchObj = document.getElementById(\"index_banner_swipe\");\r\n        var start_x;\r\n        var end_x;\r\n\r\n        t.get(0).addEventListener('touchstart', touchStart, false);\r\n        t.get(0).addEventListener('touchmove', touchMove, false);\r\n        t.get(0).addEventListener('touchend', touchSwipe);\r\n\r\n        function touchStart(event) {\r\n            if (event.targetTouches.length != 1) {\r\n                return false;\r\n            } //單點觸控\r\n\r\n            console.log(123);\r\n            start_x = event.targetTouches[0].pageX;\r\n            //alert(start_x);\r\n        }\r\n\r\n        function touchMove(event) {\r\n            event.preventDefault();\r\n            if (event.targetTouches.length != 1) {\r\n                return false;\r\n            } //單點觸控\r\n            end_x = event.targetTouches[0].pageX;\r\n            //alert(end_x - start_x);\r\n        }\r\n\r\n        function touchSwipe(event) {\r\n            if (end_x - start_x > 60) {\r\n                funcR();\r\n\r\n            } else if (end_x - start_x < -60) {\r\n                funcL();\r\n            }\r\n        }\r\n    }\r\n\r\n    function capitalizeFirstLetter(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n\r\n    /* 清除以prefix開頭的所有class*/\r\n    function removeClassWithFilter(elemt, prefix) {\r\n        elemt.each(function(i, el) {\r\n            var classes = el.className.split(\" \").filter(function(c) {\r\n                return c.lastIndexOf(prefix, 0) !== 0;\r\n            });\r\n            el.className = $.trim(classes.join(\" \"));\r\n        });\r\n    };\r\n\r\n    /* 回傳以prefix開頭的class拿掉以prefix開頭後的文字*/\r\n    function returnClassNameWithFilter(elemt, prefix) {\r\n        var arr;\r\n        elemt.each(function(i, el) {\r\n            arr = el.className.split(\" \").filter(function(c) {\r\n                return c.lastIndexOf(prefix, 0) == 0;\r\n            });\r\n        });\r\n\r\n        $.each(arr, function(index, value) {\r\n            arr[index] = value.replace(prefix, \"\");\r\n        })\r\n        return arr;\r\n    };\r\n\r\n    /* 用來算中英混合的長度 */\r\n    function txtByteLength(str) {\r\n\r\n        if (str == null) return 0;\r\n        if (typeof str != \"string\") {\r\n            str += \"\";\r\n        }\r\n        return str.replace(/[^\\x00-\\xff]/g, \"01\").length;\r\n\r\n    }\r\n\r\n    function maxlengthInpout(el, num) {\r\n        el.on('keyup', function() {\r\n            //get the limit from maxlength attribute  \r\n            var limit = num;\r\n            //get the current text inside the textarea  \r\n            var text = $(this).val();\r\n            //count the number of characters in the text  \r\n            var chars = text.length;\r\n\r\n            console.log(chars);\r\n            //check if there are more characters then allowed  \r\n            if (chars > limit) {\r\n                //and if there are use substr to get the text before the limit  \r\n                var new_text = text.substr(0, limit);\r\n\r\n                //and change the current text with the new text  \r\n                $(this).val(new_text);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    function addYouTube(el, vid) {\r\n        el.empty().append('<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"100%\" width=\"100%\" src=\"http://www.youtube.com/embed/' + vid + '?rel=0&autoplay=1\"></iframe>');\r\n    }\r\n\r\n    function getDivBgImage(el) {\r\n        return el.css('background-image').replace(/^url\\(['\"]?/, '').replace(/['\"]?\\)$/, '');\r\n    }\r\n\r\n    function replayCssAni(el, className) {\r\n        el.removeClass(className);\r\n        el.offset().width = el.offset().width;\r\n        el.addClass(className);\r\n\r\n    }\r\n\r\n    function int(s) {\r\n        return parseInt(s, 10);\r\n    }\r\n\r\n    // $.fn.enterKey = function(fnc) {\r\n    //     return this.each(function() {\r\n    //         $(this).keypress(function(ev) {\r\n    //             var keycode = (ev.keyCode ? ev.keyCode : ev.which);\r\n    //             if (keycode == '13') {\r\n    //                 fnc.call(this, ev);\r\n    //             }\r\n    //         })\r\n    //     })\r\n    // }\r\n\r\n\r\n    function getAtagElement() {\r\n        var element = document.getElementById('share-a-tag');\r\n        if (element === null) {\r\n            element = document.createElement('a');\r\n            element.style = \"display: none;\";\r\n            element.id = 'share-a-tag';\r\n            element.target = \"_blank\";\r\n            document.getElementsByTagName('body')[0].appendChild(element);\r\n        }\r\n        return element;\r\n    };\r\n\r\n   function shareToLine(s) {\r\n        var element = getAtagElement();\r\n        element.href = 'http://line.naver.jp/R/msg/text/?' + encodeURIComponent(s);\r\n        \r\n        element.click();\r\n        \r\n    }\r\n\r\n    function pageScrollAni(top) {\r\n        var $body = (window.opera) ? (document.compatMode == \"CSS1Compat\" ? $('html') : $('body')) : $('html,body');\r\n        $body.animate({\r\n            scrollTop: top\r\n        }, 800);\r\n    }\r\n\r\n    function isPhone() {\r\n        var testExp = new RegExp('Android|webOS|iPhone|iPad|' +\r\n            'BlackBerry|Windows Phone|' +\r\n            'Opera Mini|IEMobile|Mobile',\r\n            'i');\r\n        return (testExp.test(navigator.userAgent))\r\n    }\r\n\r\n    function lockScroll() {\r\n\r\n        var scrollPosition = [\r\n            self.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,\r\n            self.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n        ];\r\n        var html = jQuery('body'); // it would make more sense to apply this to body, but IE7 won't have that\r\n        html.data('scroll-position', scrollPosition);\r\n        html.data('previous-overflow', html.css('overflow'));\r\n        html.css('overflow', 'hidden');\r\n        window.scrollTo(scrollPosition[0], scrollPosition[1]);\r\n\r\n        $(document.body).on(\"touchmove\", preventScroll);\r\n    }\r\n\r\n    function unLockScroll() {\r\n        var html = jQuery('body');\r\n        var scrollPosition = html.data('scroll-position');\r\n\r\n        if (!isNull(scrollPosition)) {\r\n            html.css('overflow', html.data('previous-overflow'));\r\n            window.scrollTo(scrollPosition[0], scrollPosition[1]);\r\n            $(document.body).off(\"touchmove\", preventScroll);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function preventScroll(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    // scrollTop() ie 都只會傳回0\r\n    function windoePosTop() {\r\n        return typeof window.pageYOffset != 'undefined' ? window.pageYOffset : document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ? document.body.scrollTop : 0;\r\n    }\r\n    function addSwipeUpDownEvent(el, upFunc, downFunc) {\r\n        // var touchObj = document.getElementById(\"index_banner_swipe\");\r\n        var start_y;\r\n        var end_y;\r\n        var t = el;\r\n\r\n        t.get(0).addEventListener('touchstart', touchStart, false);\r\n        t.get(0).addEventListener('touchmove', touchMove, false);\r\n        t.get(0).addEventListener('touchend', touchSwipe);\r\n\r\n        function touchStart(event) {\r\n\r\n            if (event.targetTouches.length != 1) {\r\n                return false;\r\n            } //單點觸控\r\n            start_y = end_y = event.targetTouches[0].pageY;\r\n\r\n        }\r\n\r\n        function touchMove(event) {\r\n            event.preventDefault();\r\n            if (event.targetTouches.length != 1) {\r\n                return false;\r\n            } //單點觸控\r\n            end_y = event.targetTouches[0].pageY;\r\n            t.css('margin-top', end_y - start_y);\r\n        }\r\n\r\n        function touchSwipe(event) {\r\n\r\n\r\n            t.css('margin-top', 0);\r\n            if (end_y - start_y > 100) {\r\n                upFunc();\r\n\r\n            } else if (end_y - start_y < -100) {\r\n                downFunc();\r\n            }\r\n        }\r\n    }\r\n\r\n    function addWheelEvent(el, upFunc, downFunc) {\r\n        var mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? \"DOMMouseScroll\" : \"mousewheel\" //FF doesn't recognize mousewheel as of FF3.x\r\n        var scrollable = true;\r\n        var timer = null;\r\n\r\n\r\n\r\n\r\n\r\n        el.mousewheel(function(event) {\r\n            // console.log(event.deltaX, event.deltaY, event.deltaFactor);\r\n\r\n            if (timer) {\r\n                clearTimeout(timer);\r\n                timer = null;\r\n\r\n            }\r\n\r\n            timer = setTimeout(function() {\r\n                // console.log('done');\r\n                timer = null;\r\n                scrollable = true;\r\n            }, 100);\r\n\r\n\r\n            if (!scrollable) {\r\n                return\r\n            } else {\r\n                scrollable = false;\r\n            }\r\n\r\n\r\n            if (event.deltaY > 0) {\r\n                upFunc();\r\n            } else {\r\n                downFunc();\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n    }\r\n\r\n    function isIe() {\r\n        if (document.documentMode || /Edge/.test(navigator.userAgent)) {\r\n\r\n            return true;\r\n        } else {\r\n\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    function scrollReachEnd(el) {\r\n        return (el.scrollTop() + el.innerHeight() >= el[0].scrollHeight)\r\n    }\r\n    function scrollReachTop(el) {\r\n        return (el.scrollTop() ==0)\r\n    }\r\n\r\n\r\n    function checkIdle(delay,func,func2) {\r\n        idleTimer = null;\r\n        idleState = false;\r\n        idleWait = delay;\r\n\r\n        $('*').bind('touchend touchmove touchstart', function() {\r\n\r\n\r\n            clearTimeout(idleTimer);\r\n\r\n            if (idleState == true) {\r\n                func2();\r\n            }\r\n\r\n            idleState = false;\r\n\r\n            idleTimer = setTimeout(function() {\r\n\r\n                // Idle Event\r\n                func();\r\n\r\n                idleState = true;\r\n            }, idleWait);\r\n        });\r\n\r\n        $(\"body\").trigger(\"touchend\");\r\n    }\r\n\r\n    function openGoogleApp(s) {\r\n        var element = getAtagElement();\r\n        if (isIOS()) {\r\n            element.href = 'comgooglemaps://?q=' + encodeURIComponent(s);\r\n        } else {\r\n            element.href = 'https://maps.google.com/?q=' + encodeURIComponent(s);\r\n        }\r\n        element.click();\r\n    }\r\n\r\n    \r\n    ChungTool.openGoogleApp = openGoogleApp;\r\n    \r\n    ChungTool.checkIdle = checkIdle;\r\n    ChungTool.scrollReachTop = scrollReachTop;\r\n    ChungTool.scrollReachEnd = scrollReachEnd;\r\n    ChungTool.isIe = isIe;\r\n    ChungTool.addWheelEvent = addWheelEvent;\r\n\r\n    ChungTool.addSwipeUpDownEvent = addSwipeUpDownEvent;\r\n\r\n    ChungTool.windoePosTop = windoePosTop;\r\n    ChungTool.lockScroll = lockScroll;\r\n    ChungTool.unLockScroll = unLockScroll;\r\n    ChungTool.isPhone = isPhone;\r\n\r\n    ChungTool.pageScrollAni = pageScrollAni;\r\n    //shareToLine\r\n    ChungTool.shareToLine = shareToLine;\r\n    //a tag\r\n    ChungTool.getAtagElement = getAtagElement;\r\n    // 轉成數字\r\n    ChungTool.int = int;\r\n    // 重跑css animation\r\n    ChungTool.replayCssAni = replayCssAni;\r\n    // 取得背景圖案\r\n    ChungTool.getDivBgImage = getDivBgImage;\r\n    // 加 youtube 到 el 裡\r\n    ChungTool.addYouTube = addYouTube;\r\n    // 限制input的最大輸入數\r\n    ChungTool.maxlengthInpout = maxlengthInpout;\r\n    // 計算中英文的長度 (中文2英文1)\r\n    ChungTool.txtByteLength = txtByteLength;\r\n    // 移除特定開頭的class\r\n    ChungTool.removeClassWithFilter = removeClassWithFilter;\r\n    // 回傳以prefix開頭的class拿掉以prefix開頭後的文字 \r\n    ChungTool.returnClassNameWithFilter = returnClassNameWithFilter;\r\n    ChungTool.capitalizeFirstLetter = capitalizeFirstLetter;\r\n    ChungTool.addSwipeEvent = addSwipeEvent;\r\n    ChungTool.initLimitText = initLimitText;\r\n    ChungTool.getUrlParameter = getUrlParameter;\r\n    ChungTool.isOnline = isOnline;\r\n    ChungTool.isNull = isNull;\r\n    ChungTool.isIOS = isIOS;\r\n    simpleShow = c_simpleShow;\r\n    simpleHide = c_simpleHide;\r\n\r\n\r\n})();\r\n","function init_base() {\r\n  const INIT_VIEWPORT = true;\r\n  const VIEWPORT_WIDTH = 600;\r\n\r\n\r\n  /////////////////////////////////////////////\r\n  //        更改 meta 上的 viewport           //\r\n  /////////////////////////////////////////////\r\n\r\n  if (INIT_VIEWPORT) {\r\n    const sUserAgent = navigator.userAgent.toLowerCase();\r\n    const bIsAndroid = sUserAgent.match(/android/i) == \"android\";\r\n    const viewport = document.querySelector(\"meta[name=viewport]\");\r\n\r\n    if (bIsAndroid) {\r\n      const deviceWidth = screen.width;\r\n      const getTargetDensitydpi = VIEWPORT_WIDTH / deviceWidth * window.devicePixelRatio * 160;\r\n      const targetDensitydpi = `target-densitydpi=${getTargetDensitydpi}, width=${VIEWPORT_WIDTH}`;\r\n\r\n      viewport.setAttribute('content', targetDensitydpi);\r\n    } else {\r\n      viewport.setAttribute('content', `width=${VIEWPORT_WIDTH}`);\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /////////////////////////////////////////////\r\n  //              fastclick                  //\r\n  /////////////////////////////////////////////\r\n  \r\n  FastClick.attach(document.body);\r\n\r\n}\r\n\r\n\r\n\r\n","function init_index(){\r\n  console.log('init_index');\r\n\r\n\r\n  $('.test').html('454654665');\r\n}"]}